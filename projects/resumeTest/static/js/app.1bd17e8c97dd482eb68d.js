webpackJsonp([1],{"1/oy":function(t,e){},CCBS:function(t,e){},DMce:function(t,e){},Id91:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b-navbar",{staticClass:"fixed-top",attrs:{toggleable:"md",type:"white",variant:"white"}},[e("h1",{staticClass:"text-center",staticStyle:{display:"inline-block",margin:"0 auto"}},[this._v("Test")])]),this._v(" "),e("router-view"),this._v(" "),e("b-col",[e("div",{staticClass:"row"},[e("hr",{staticClass:"col-11 text-center",staticStyle:{"background-color":"rgba(0,0,0,0.5)"}})])])],1)},staticRenderFns:[]};var s=i("VU/8")({name:"App",data:function(){return{}}},a,!1,function(t){i("bf0G")},null,null).exports,r=i("/ocq"),o=i("BO1k"),c=i.n(o),l=i("mvHQ"),u=i.n(l);Date.prototype.myDate=function(){if(this.getMinutes().length<2){var t=u()(this.getMinutes()).split("");this.myProp=t.unshift("0")}else this.myProp=this.getMinutes()};var h=new Date;h.myDate();var p=h.myProp,d={all:function(t){return t},hashTag:function(t,e){var i=[];for(var n in e)if(e.hasOwnProperty(n)){var a=!0,s=!1,r=void 0;try{for(var o,l=c()(e[n].hashTag);!(a=(o=l.next()).done);a=!0){if(o.value===t){i.push(e[n]);break}}}catch(t){s=!0,r=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw r}}}return i}},f={data:function(){return{now:h.getFullYear()+"/"+(h.getMonth()+1)+"/"+h.getDate()+"  "+h.getHours()+": "+p,msg:"Welcome to Your Vue.js App",testImg:["https://i.imgur.com/efFTTIT.jpg","https://i.imgur.com/AM3lVYo.gif","https://i.imgur.com/BwXxYmu.jpg","https://i.imgur.com/tZL0CbA.gif","https://i.imgur.com/309wjS9.jpg","https://i.imgur.com/GynjwN2.jpg","https://i.imgur.com/oo4TKze.jpg"],dataAll:[],fScreen:!1,fScreenImg:"",inputEmail:"",inputName:"",inputText:"",chatPosition:"top",chat:!1,currentPage:1,countOfPage:5,allHashTag:[],filterArray:[],view:"all",hashTagKeyWord:"",loading:!0,frontPic:[],nextPic:[],currentPost:0,currentPostPic:[]}},computed:{fullScreenLeft:function(){return void 0===this.filterData[this.currentPost-1].pic?"":this.filterData[this.currentPost-1].pic},fullScreenRight:function(){return void 0===this.filterData[this.currentPost+1].pic?"":this.filterData[this.currentPost+1].pic},pageStart:function(){return(this.currentPage-1)*this.countOfPage},totalPage:function(){return Math.ceil(this.filterData.length/this.countOfPage)},filterData:function(){return"all"===this.view?d[this.view](this.dataAll):"hashTag"===this.view?d[this.view](this.hashTagKeyWord,this.dataAll):void 0}},methods:{frontPost:function(t){void 0!==this.filterData[t-1]&&(this.currentPost=t,this.frontPic=this.dataAll[t-1].pic)},nextPost:function(t){void 0!==this.filterData[t+1]&&(this.currentPost=t,this.nextPic=this.dataAll[t+1].pic)},setNowPost:function(t){this.currentPostPic=t},changeToFullScreen:function(t){this.fScreenImg=t,this.fScreen=!this.fScreen},closeFullScreen:function(){this.fScreenImg="",this.fScreen=!this.fScreen},changeToLeft:function(){void 0===this.currentPostPic[this.currentPostPic.indexOf(this.fScreenImg)-1]?(this.currentPostPic=this.fullScreenLeft,this.currentPost--,this.fScreenImg=this.currentPostPic[this.currentPostPic.length-1]):this.fScreenImg=this.currentPostPic[this.currentPostPic.indexOf(this.fScreenImg)-1]},changeToRight:function(){void 0===this.currentPostPic[this.currentPostPic.indexOf(this.fScreenImg)+1]?(this.currentPostPic=this.fullScreenRight,this.currentPost++,this.fScreenImg=this.currentPostPic[0]):this.fScreenImg=this.currentPostPic[this.currentPostPic.indexOf(this.fScreenImg)+1]},chatOpen:function(){this.chat=!this.chat},setPage:function(t){t<=0||t>this.totalPage||(this.currentPage=t)},getHashTag:function(){var t=this;for(var e in t.dataAll)if(t.dataAll.hasOwnProperty(e)){var i=!0,n=!1,a=void 0;try{for(var s,r=c()(t.dataAll[e].hashTag);!(i=(s=r.next()).done);i=!0){var o=s.value;-1===t.allHashTag.indexOf(o)&&t.allHashTag.push(o)}}catch(t){n=!0,a=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw a}}}},filterTest:function(){this.filterArray=d.hashTag("work",this.dataAll)},setHashTagKeyWord:function(t){this.view="hashTag",this.hashTagKeyWord=t,console.log(this.hashTagKeyWord)},setHashTagKeyToNone:function(){this.view="all"}},mounted:function(){var t=this;firebase.database().ref("/content/").on("value",function(e){e.forEach(function(e){t.dataAll.push(e.val())}),t.dataAll.reverse(),t.getHashTag(),t.loading=!1})}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{staticStyle:{position:"relative"},attrs:{id:"app"}},[i("div",{staticClass:"d-none d-md-block main-picture"},[i("div",{staticClass:"main-picture--element"})]),t._v(" "),!0===t.loading?i("div",{staticClass:"loading"},[i("div",{staticClass:"loading-item-0"})]):t._e(),t._v(" "),i("b-row",[i("b-col",{attrs:{sm:"12",md:"8",lg:"8"}},[i("div",{staticClass:"main-block"},[i("ul",{staticClass:"main-block--element"},t._l(t.filterData.slice(t.pageStart,t.pageStart+t.countOfPage),function(e,n){return i("li",{staticClass:"main-block--element-mod",attrs:{id:"list"+t.pageStart+n}},[i("b-row",[i("b-col",[i("h1",[t._v(t._s(e.title))])]),t._v(" "),i("b-col",{attrs:{right:""}},[i("b-row",[i("b-col",{attrs:{sm:"12",right:""}},t._l(e.hashTag,function(e){return i("a",{staticClass:"float-right text-right",attrs:{href:"#"},on:{click:function(i){t.setHashTagKeyWord(e)}}},[t._v("#"+t._s(e)+" ")])})),t._v(" "),i("b-col",{attrs:{sm:"12",right:""}},[i("h4",{staticClass:"float-right text-right"},[t._v(t._s(e.time||t.now))])])],1)],1)],1),t._v(" "),i("b-row",t._l(e.pic,function(a){return i("b-col",{attrs:{sm:"12"}},[i("div",{staticClass:"innerImg-block",on:{click:function(i){t.changeToFullScreen(a),t.setNowPost(e.pic),t.frontPost(n),t.nextPost(n)}}},[i("b-img",{staticClass:"innerImg-block--element",attrs:{src:a,fluid:""}})],1)])})),t._v(" "),!0===t.fScreen?i("div",{staticClass:"fullScreen-block d-none d-md-block"},[i("div",{staticClass:"text-white fullScreen-block-element-closer",on:{click:t.closeFullScreen}},[t._v("X")]),t._v(" "),i("div",{staticClass:"fullScreen-block-element-left",on:{click:t.changeToLeft}}),t._v(" "),i("div",{staticClass:"fullScreen-block-element-right",on:{click:t.changeToRight}}),t._v(" "),i("div",{staticClass:"fullScreen-block-element-imgContainer"},[void 0!==t.fScreenImg?i("b-img",{staticClass:"fullScreen-block-element-imgContainer-img",attrs:{src:t.fScreenImg,fluid:""}}):t._e(),t._v(" "),void 0===t.fScreenImg?i("h1",{staticClass:"text-white fullScreen-block-element-imgContainer-text"},[t._v("\n                  沒有圖片可以看ㄛ")]):t._e()],1)]):t._e(),t._v(" "),i("b-row",[i("b-col",[i("p",{staticStyle:{"font-weight":"lighter"}},[t._v(t._s(e.text))])])],1)],1)})),t._v(" "),i("div",{staticStyle:{position:"relative"}},[i("b-button-toolbar",{attrs:{"aria-label":"Toolbar with button groups"}},[i("b-button-group",{staticClass:"mx-1"},[t.totalPage>=1?i("b-btn",{staticClass:"btn-sm",on:{click:function(e){t.setPage(t.currentPage-1)}}},[t._v("‹")]):t._e()],1),t._v(" "),i("b-button-group",{staticClass:"mx-1"},t._l(t.totalPage,function(e,n){return i("b-btn",{key:n,staticClass:"btn-sm",attrs:{sm:""},on:{click:function(i){t.setPage(e)}}},[t._v(t._s(e))])})),t._v(" "),i("b-button-group",{staticClass:"mx-1"},[t.totalPage>=1?i("b-btn",{staticClass:"btn-sm",on:{click:function(e){t.setPage(t.currentPage+1)}}},[t._v("›")]):t._e()],1)],1)],1)])]),t._v(" "),i("b-col",{staticClass:"d-none d-md-block",attrs:{sm:"0",md:"4",lg:"4"}},[i("div",{staticClass:"square"},[i("div",{staticStyle:{position:"relative","max-width":"20rem"}},[i("h1",[t._v(t._s(t.msg))]),t._v(" "),i("b-col",{attrs:{sm:"12"}},[i("a",{attrs:{href:"#"},on:{click:t.setHashTagKeyToNone}},[t._v("#All")])]),t._v(" "),t._l(t.allHashTag,function(e){return i("b-col",{key:e.id,attrs:{sm:"12"}},[i("a",{attrs:{href:"#"},on:{click:function(i){t.setHashTagKeyWord(e)}}},[t._v("#"+t._s(e))]),i("br")])})],2)])])],1),t._v(" "),i("b-btn",{staticClass:"btn-circle",attrs:{id:"chat"},on:{click:t.chatOpen}},[i("span",{staticClass:"text-center"},[t._v("？？")])]),t._v(" "),i("b-popover",{attrs:{target:"chat",placement:t.chatPosition,title:"請聯絡我！",content:"123",show:t.chat},on:{"update:show":function(e){t.chat=e}}},[i("b-form",{attrs:{action:"https://formspree.io/aa1010111@icloud.com",method:"POST"}},[i("b-form-group",{attrs:{id:"emailGroupEmail",label:"您的信箱：","label-for":"emailInput",description:"我們不會洩漏您的資訊。"}},[i("b-form-input",{attrs:{id:"emailInput",type:"email",name:"_replyto",required:"",placeholder:"請輸入您的信箱。"},model:{value:t.inputEmail,callback:function(e){t.inputEmail=e},expression:"inputEmail"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"emailGroupName",label:"您的大名：","label-for":"nameInput"}},[i("b-form-input",{attrs:{id:"nameInput",type:"text",required:"",placeholder:"請輸入您的大名。",name:"name"},model:{value:t.inputName,callback:function(e){t.inputName=e},expression:"inputName"}})],1),t._v(" "),i("b-form-textarea",{attrs:{id:"emailGroupTextArea",placeholder:"請輸入您的寶貴意見。",rows:3,"max-rows":6,name:"name"},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"_next",value:"//localhost:8080/#/thanks"}}),t._v(" "),i("b-form-group",[i("b-button",{staticClass:"btn-outline-info mt-3",attrs:{type:"submit"}},[t._v("送出")])],1)],1)],1)],1)},staticRenderFns:[]};var m=i("VU/8")(f,g,!1,function(t){i("DMce")},"data-v-66addd5b",null).exports,v=(firebase.storage().ref("/images/"),firebase.database().ref().child("/content/"));function b(t){return t<10?"0"+t:t}var _={name:"back",data:function(){return{inputAccount:"",inputPassword:"",logged:!1,inputTitle:"",editTitle:"",inputInnerText:"",editInnerText:"",inputInnerPic:[],inputInnerPicText:"",editInnerPic:"",inputHashTagArray:[],editHashTagArray:[],inputHashTagText:"",editHashTagText:"",item:[],allHashTag:[]}},methods:{login:function(){var t=this;firebase.auth().signInWithEmailAndPassword(this.inputAccount,this.inputPassword).then(function(){t.logged=!0}).catch(function(t){var e=t.code;console.log(e)})},addHashTag:function(){-1===this.inputHashTagArray.indexOf(this.inputHashTagText.toLowerCase())?(this.inputHashTagArray.push(this.inputHashTagText.toLowerCase()),this.inputHashTagText=""):(alert("這個 tag 重複囉"),this.inputHashTagText="")},addInnerPic:function(){-1===this.inputInnerPic.indexOf(this.inputHashTagText)?(this.inputInnerPic.push(this.inputInnerPicText),this.inputInnerPicText=""):(alert("這張圖用過囉"),this.inputInnerPicText="")},newPost:function(){var t,e,i,n,a;""!==this.inputTitle&&""!==this.inputInnerPic&&v.push({title:this.inputTitle,text:this.inputInnerText,pic:this.inputInnerPic,hashTag:this.inputHashTagArray,editing:!1,pinned:!1,time:(t=new Date,e=t.getFullYear(),i=t.getMonth()+1,n=b(t.getDate()),a=function(t){switch(t){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat"}}(t.getDay()),b(t.getHours()),b(t.getMinutes()),b(t.getSeconds()),e+"/"+i+"/"+n+" "+a)}),this.inputTitle="",this.inputInnerText="",this.inputInnerPic=[],this.inputInnerPicText="",this.inputHashTagArray=[],this.inputHashTagText=""},deleteData:function(t){v.child(t).remove()},editData:function(t){var e=void 0;v.child(t).child("editing").once("value",function(t){e=t.val()}),e=!e,v.child(t).child("editing").set(e),this.editTitle=this.item[t].title,this.editInnerPic=this.item[t].pic,this.editInnerText=this.item[t].text,this.editHashTagArray=this.item[t].hashTag},saveEditedData:function(t){v.child(t).update({title:this.editTitle,text:this.editInnerText,pic:this.editInnerPic,hashTag:this.editHashTagArray,editing:!1})},deleteHashTagFromArray:function(t){this.inputHashTagArray.splice(this.inputHashTagArray.indexOf(t),1)},getHashTag:function(){var t=this;for(var e in t.item)if(t.item.hasOwnProperty(e)){var i=!0,n=!1,a=void 0;try{for(var s,r=c()(t.item[e].hashTag);!(i=(s=r.next()).done);i=!0){var o=s.value;-1===t.allHashTag.indexOf(o)&&t.allHashTag.push(o)}}catch(t){n=!0,a=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw a}}}}},mounted:function(){var t=this;firebase.auth().onAuthStateChanged(function(e){e?(v.on("value",function(e){t.item=e.val()}),t.logged=!0):t.logged=!1})}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",{attrs:{fluid:"",id:"app"}},[i("div",{staticClass:"row"},[!1===t.logged?i("div",{staticClass:"col-sm-6 col-md-4 offset-md-4"},[i("h1",{staticClass:"text-center login-title"},[i("b",[t._v("登入之後繼續")])]),t._v(" "),i("div",{staticClass:"account-wall"},[i("img",{staticClass:"profile-img",attrs:{src:"https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=120",alt:""}}),t._v(" "),i("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputAccount,expression:"inputAccount"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.inputAccount},on:{input:function(e){e.target.composing||(t.inputAccount=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputPassword,expression:"inputPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.inputPassword},on:{input:function(e){e.target.composing||(t.inputPassword=e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-lg btn-outline-info btn-block",attrs:{type:"submit"}},[t._v("\n            登入\n          ")])])])]):t._e()]),t._v(" "),!0===t.logged?i("b-card",{attrs:{"no-body":""}},[i("b-tabs",{attrs:{pills:"",card:"",vertical:"","nav-wrapper-class":"w-50"}},[i("b-tab",{attrs:{title:"Tab 1",active:""}},[i("ul",t._l(t.item,function(e,n){return i("li",{staticStyle:{"margin-bottom":"15px"}},[i("b-list-group",[i("b-list-group-item",{staticClass:"flex-column align-items-start",attrs:{href:"#",active:""}},[!1===e.editing?i("div",[i("div",{staticClass:"d-flex w-100 justify-content-between"},[i("h5",{staticClass:"mb-1"},[t._v(t._s(e.title))])]),t._v(" "),i("p",{staticClass:"mb-1"},[t._v("\n                    "+t._s(e.text)+"\n                  ")]),t._v(" "),i("small",[t._v("id: "+t._s(n))]),t._v(" "),i("br"),t._v(" "),t._l(e.hashTag,function(e){return i("small",[t._v("#"+t._s(e)+" ")])}),t._v(" "),i("br"),t._v(" "),i("b-button",{staticClass:"btn-outline-danger",on:{click:function(e){t.deleteData(n)}}},[t._v("刪除")]),t._v(" "),i("b-button",{staticClass:"btn-outline-warning"},[t._v("置頂")]),t._v(" "),i("b-button",{staticClass:"btn-outline-info",on:{click:function(e){t.editData(n)}}},[t._v("編輯")])],2):t._e(),t._v(" "),!0===e.editing?i("div",{staticClass:"d-flex w-100 justify-content-between"},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("p",[t._v("請輸入標題：")]),t._v(" "),i("b-form-input",{staticClass:"mb-5",attrs:{placeholder:"請輸入標題"},model:{value:t.editTitle,callback:function(e){t.editTitle=e},expression:"editTitle"}}),t._v(" "),i("p",[t._v("請輸入圖片網址：")]),t._v(" "),i("b-form-input",{staticClass:"mb-5",attrs:{placeholder:"請輸入圖片網址"},model:{value:t.editInnerPic,callback:function(e){t.editInnerPic=e},expression:"editInnerPic"}})],1),t._v(" "),i("b-col",{attrs:{cols:"12"}},[i("p",[t._v("請輸入內文：")]),t._v(" "),i("b-form-textarea",{attrs:{placeholder:"請輸入內文",rows:"3"},model:{value:t.editInnerText,callback:function(e){t.editInnerText=e},expression:"editInnerText"}}),t._v(" "),i("b-button",{staticClass:"btn mt-4 mb-5",on:{click:function(e){t.saveEditedData(n)}}},[t._v("保存")])],1)],1)],1):t._e()])],1)],1)}))]),t._v(" "),i("b-tab",{attrs:{title:"Tab 2"}},[i("b-form",[i("b-input-group",{staticClass:"mb-5",attrs:{prepend:"標題"}},[i("b-form-input",{attrs:{placeholder:"請輸入標題",required:""},model:{value:t.inputTitle,callback:function(e){t.inputTitle=e},expression:"inputTitle"}})],1),t._v(" "),i("b-input-group",[i("b-form-input",{attrs:{placeholder:"請輸入圖片網址",required:""},model:{value:t.inputInnerPicText,callback:function(e){t.inputInnerPicText=e},expression:"inputInnerPicText"}}),t._v(" "),i("b-input-group-append",[i("b-button",{attrs:{variant:"info"},on:{click:t.addInnerPic}},[t._v("新增圖片")])],1)],1),t._v(" "),i("b-list-group",{staticClass:"mb-5"},t._l(t.inputInnerPic,function(e){return i("b-list-group-item",{key:e.id},[t._v(t._s(e))])})),t._v(" "),i("b-form-input",{staticClass:"mb-5",attrs:{placeholder:"請輸入內文",required:""},model:{value:t.inputInnerText,callback:function(e){t.inputInnerText=e},expression:"inputInnerText"}}),t._v(" "),i("b-input-group",{staticClass:"mb-5",attrs:{prepend:"標籤"}},[i("b-form-input",{attrs:{placeholder:"請輸入標籤"},model:{value:t.inputHashTagText,callback:function(e){t.inputHashTagText=e},expression:"inputHashTagText"}}),t._v(" "),i("b-input-group-append",[i("b-button",{attrs:{variant:"info"},on:{click:t.addHashTag}},[t._v("新增")])],1)],1),t._v(" "),i("b-list-group",t._l(t.inputHashTagArray,function(e){return i("b-list-group-item",{key:e.id,staticClass:"mb-2"},[t._v("#"+t._s(e)+"\n              "),i("b-button",{staticClass:"btn-danger float-right",on:{click:function(i){t.deleteHashTagFromArray(e)}}},[t._v("刪除")])],1)})),t._v(" "),i("b-button",{staticClass:"btn-outline-info",on:{click:t.newPost}},[t._v("送出")])],1)],1),t._v(" "),i("b-tab",{attrs:{title:"hashTag 測試"}},[i("b-button",{on:{click:t.getHashTag}}),t._v(" "),i("b-list-group",t._l(t.allHashTag,function(e){return i("b-list-group-item",{key:e.id},[t._v(t._s(e))])}))],1)],1)],1):t._e()],1)},staticRenderFns:[]};var P=i("VU/8")(_,T,!1,function(t){i("SJ5o")},"data-v-9e5ebdae",null).exports,x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",[e("div",{staticClass:"square-block"},[e("h1",[this._v("感謝，一日順心。")])])])},staticRenderFns:[]};var y=i("VU/8")({name:"thanks"},x,!1,function(t){i("CCBS")},"data-v-138be34c",null).exports;n.a.use(r.a);var C=new r.a({routes:[{path:"/",name:"main",component:m},{path:"/back",name:"back",component:P},{path:"/thanks",name:"thanks",component:y}]}),w=i("mtWM"),k=i.n(w),A=i("e6fC"),I=i("Rf8U"),S=i.n(I);n.a.use(S.a,k.a),n.a.use(A.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:C,components:{App:s},template:"<App/>"})},SJ5o:function(t,e){},bf0G:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1bd17e8c97dd482eb68d.js.map