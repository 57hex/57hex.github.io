webpackJsonp([1],{"1/oy":function(t,e){},ArFD:function(t,e){},CCBS:function(t,e){},Id91:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b-navbar",{staticClass:"fixed-top",attrs:{toggleable:"md",type:"white",variant:"white"}},[e("h1",{staticClass:"text-center",staticStyle:{display:"inline-block",margin:"0 auto"}},[this._v("Test")])]),this._v(" "),e("router-view"),this._v(" "),e("b-col",[e("div",{staticClass:"row"},[e("hr",{staticClass:"col-11 text-center",staticStyle:{"background-color":"#2E6E48"}})])])],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App",data:function(){return{}}},n,!1,function(t){a("ArFD")},null,null).exports,r=a("/ocq"),l=a("BO1k"),o=a.n(l),c=a("mvHQ"),u=a.n(c);Date.prototype.myDate=function(){if(this.getMinutes().length<2){var t=u()(this.getMinutes()).split("");this.myProp=t.unshift("0")}else this.myProp=this.getMinutes()};var h=new Date;h.myDate();var p=h.myProp,d={all:function(t){return t},hashTag:function(t,e){var a=[];for(var i in e)if(e.hasOwnProperty(i)){var n=!0,s=!1,r=void 0;try{for(var l,c=o()(e[i].hashTag);!(n=(l=c.next()).done);n=!0){if(l.value===t){a.push(e[i]);break}}}catch(t){s=!0,r=t}finally{try{!n&&c.return&&c.return()}finally{if(s)throw r}}}return a}},g={data:function(){return{now:h.getFullYear()+"/"+(h.getMonth()+1)+"/"+h.getDate()+"  "+h.getHours()+": "+p,msg:"Welcome to Your Vue.js App",testImg:["https://i.imgur.com/efFTTIT.jpg","https://i.imgur.com/AM3lVYo.gif","https://i.imgur.com/BwXxYmu.jpg","https://i.imgur.com/tZL0CbA.gif","https://i.imgur.com/309wjS9.jpg","https://i.imgur.com/GynjwN2.jpg","https://i.imgur.com/oo4TKze.jpg"],dataAll:[],fScreen:!1,fScreenImg:"",innerHeight:window.innerHeight,innerWidth:window.innerWidth,inputEmail:"",inputName:"",inputText:"",chatPosition:"top",chat:!1,currentPage:1,countOfPage:5,allHashTag:[],filterArray:[],view:"all",hashTagKeyWord:"",loading:!0}},computed:{fullScreenLeft:function(){if(""!==this.fScreenImg)return this.dataAll[this.dataAll.map(function(t){return t.pic}).indexOf(this.fScreenImg)-1].pic},fullScreenRight:function(){if(""!==this.fScreenImg)return this.dataAll[this.dataAll.map(function(t){return t.pic}).indexOf(this.fScreenImg)+1].pic},pageStart:function(){return(this.currentPage-1)*this.countOfPage},totalPage:function(){return Math.ceil(this.filterData.length/this.countOfPage)},filterData:function(){return"all"===this.view?d[this.view](this.dataAll):"hashTag"===this.view?d[this.view](this.hashTagKeyWord,this.dataAll):void 0}},methods:{changeToFullScreen:function(t){this.fScreenImg=t,this.fScreen=!this.fScreen},closeFullScreen:function(){this.fScreenImg="",this.fScreen=!this.fScreen},changeToLeft:function(){this.fScreenImg=this.fullScreenLeft},changeToRight:function(){this.fScreenImg=this.fullScreenRight},chatOpen:function(){this.chat=!this.chat},setPage:function(t){t<=0||t>this.totalPage||(this.currentPage=t)},getHashTag:function(){var t=this;for(var e in t.dataAll)if(t.dataAll.hasOwnProperty(e)){var a=!0,i=!1,n=void 0;try{for(var s,r=o()(t.dataAll[e].hashTag);!(a=(s=r.next()).done);a=!0){var l=s.value;-1===t.allHashTag.indexOf(l)&&t.allHashTag.push(l)}}catch(t){i=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}}},filterTest:function(){this.filterArray=d.hashTag("work",this.dataAll)},setHashTagKeyWord:function(t){this.view="hashTag",this.hashTagKeyWord=t,console.log(this.hashTagKeyWord)}},mounted:function(){var t=this;firebase.database().ref("/content/").on("value",function(e){e.forEach(function(e){t.dataAll.push(e.val())}),t.dataAll.reverse(),t.getHashTag(),t.loading=!1})}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{position:"relative"},attrs:{id:"app"}},[a("div",{staticClass:"d-none d-md-block main-picture"},[a("div",{staticClass:"main-picture--element"})]),t._v(" "),!0===t.loading?a("div",{staticClass:"loading"},[a("div",{staticClass:"loading-item-0"})]):t._e(),t._v(" "),a("b-row",[a("b-col",{attrs:{sm:"12",md:"8",lg:"8"}},[a("div",{staticClass:"main-block"},[a("ul",{staticClass:"main-block--element"},t._l(t.filterData.slice(t.pageStart,t.pageStart+t.countOfPage),function(e,i){return a("li",{staticClass:"main-block--element-mod",attrs:{id:"list"+t.pageStart+i}},[a("b-row",[a("b-col",[a("h1",[t._v(t._s(e.title))])]),t._v(" "),a("b-col",{attrs:{right:""}},[a("b-row",[a("b-col",{attrs:{sm:"12",right:""}},t._l(e.hashTag,function(e){return a("h4",{staticClass:"float-right text-right"},[t._v("#"+t._s(e)+" ")])})),t._v(" "),a("b-col",{attrs:{sm:"12",right:""}},[a("h4",{staticClass:"float-right text-right"},[t._v(t._s(e.time||t.now))])])],1)],1)],1),t._v(" "),a("div",{staticClass:"innerImg-block",on:{click:function(a){t.changeToFullScreen(e.pic)}}},[a("b-img",{staticClass:"innerImg-block--element",attrs:{src:e.pic,fluid:""}})],1),t._v(" "),!0===t.fScreen?a("div",{staticClass:"fullScreen-block d-none d-md-block"},[a("div",{staticClass:"text-white fullScreen-block-element-closer",on:{click:t.closeFullScreen}},[t._v("X")]),t._v(" "),a("div",{staticClass:"fullScreen-block-element-left",on:{click:t.changeToLeft}}),t._v(" "),a("div",{staticClass:"fullScreen-block-element-right",on:{click:t.changeToRight}}),t._v(" "),a("div",{staticClass:"fullScreen-block-element-imgContainer"},[void 0!==t.fScreenImg?a("b-img",{staticClass:"fullScreen-block-element-imgContainer-img",attrs:{src:t.fScreenImg,fluid:""}}):t._e(),t._v(" "),void 0===t.fScreenImg?a("h1",{staticClass:"text-white fullScreen-block-element-imgContainer-text"},[t._v("\n                  沒有圖片可以看ㄛ")]):t._e()],1)]):t._e(),t._v(" "),a("b-row",[a("b-col",[a("p",{staticStyle:{"font-weight":"lighter"}},[t._v(t._s(e.text))])])],1)],1)})),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("b-button-toolbar",{attrs:{"aria-label":"Toolbar with button groups"}},[a("b-button-group",{staticClass:"mx-1"},[t.totalPage>=1?a("b-btn",{on:{click:function(e){t.setPage(t.currentPage-1)}}},[t._v("‹")]):t._e()],1),t._v(" "),a("b-button-group",{staticClass:"mx-1"},t._l(t.totalPage,function(e,i){return a("b-btn",{key:i,on:{click:function(a){t.setPage(e)}}},[t._v(t._s(e))])})),t._v(" "),a("b-button-group",{staticClass:"mx-1"},[t.totalPage>=1?a("b-btn",{on:{click:function(e){t.setPage(t.currentPage+1)}}},[t._v("›")]):t._e()],1)],1)],1)])]),t._v(" "),a("b-col",{staticClass:"d-none d-md-block",attrs:{sm:"0",md:"4",lg:"4"}},[a("div",{staticClass:"square"},[a("div",{staticStyle:{position:"relative","max-width":"20rem"}},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),t._l(t.allHashTag,function(e){return a("b-col",{key:e.id,attrs:{sm:"12"}},[a("a",{attrs:{href:"#"},on:{click:function(a){t.setHashTagKeyWord(e)}}},[t._v("#"+t._s(e))]),a("br")])})],2)])])],1),t._v(" "),a("b-btn",{staticClass:"btn-circle",attrs:{id:"chat"},on:{click:t.chatOpen}},[t._v("123")]),t._v(" "),a("b-popover",{attrs:{target:"chat",placement:t.chatPosition,title:"請聯絡我！",content:"123",show:t.chat},on:{"update:show":function(e){t.chat=e}}},[a("b-form",{attrs:{action:"https://formspree.io/aa1010111@icloud.com",method:"POST"}},[a("b-form-group",{attrs:{id:"emailGroupEmail",label:"您的信箱：","label-for":"emailInput",description:"我們不會洩漏您的資訊。"}},[a("b-form-input",{attrs:{id:"emailInput",type:"email",name:"_replyto",required:"",placeholder:"請輸入您的信箱。"},model:{value:t.inputEmail,callback:function(e){t.inputEmail=e},expression:"inputEmail"}})],1),t._v(" "),a("b-form-group",{attrs:{id:"emailGroupName",label:"您的大名：","label-for":"nameInput"}},[a("b-form-input",{attrs:{id:"nameInput",type:"text",required:"",placeholder:"請輸入您的大名。",name:"name"},model:{value:t.inputName,callback:function(e){t.inputName=e},expression:"inputName"}})],1),t._v(" "),a("b-form-textarea",{attrs:{id:"emailGroupTextArea",placeholder:"請輸入您的寶貴意見。",rows:3,"max-rows":6,name:"name"},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"_next",value:"//localhost:8080/#/thanks"}}),t._v(" "),a("b-form-group",[a("b-button",{staticClass:"btn-outline-info mt-3",attrs:{type:"submit"}},[t._v("送出")])],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(g,f,!1,function(t){a("QGUU")},"data-v-ce7324c6",null).exports,v=(firebase.storage().ref("/images/"),firebase.database().ref().child("/content/"));function b(t){return t<10?"0"+t:t}var _={name:"back",data:function(){return{inputAccount:"",inputPassword:"",logged:!1,inputTitle:"",editTitle:"",inputInnerText:"",editInnerText:"",inputInnerPic:"",editInnerPic:"",inputHashTagArray:[],editHashTagArray:[],inputHashTagText:"",editHashTagText:"",item:[],allHashTag:[]}},methods:{login:function(){var t=this;firebase.auth().signInWithEmailAndPassword(this.inputAccount,this.inputPassword).then(function(){t.logged=!0}).catch(function(t){var e=t.code;console.log(e)})},addHashTag:function(){-1===this.inputHashTagArray.indexOf(this.inputHashTagText.toLowerCase())?(this.inputHashTagArray.push(this.inputHashTagText.toLowerCase()),this.inputHashTagText=""):(alert("這個 tag 重複囉"),this.inputHashTagText="")},newPost:function(){var t,e,a,i,n;""!==this.inputTitle&&""!==this.inputInnerPic&&v.push({title:this.inputTitle,text:this.inputInnerText,pic:this.inputInnerPic,hashTag:this.inputHashTagArray,editing:!1,pinned:!1,time:(t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=b(t.getDate()),n=function(t){switch(t){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat"}}(t.getDay()),b(t.getHours()),b(t.getMinutes()),b(t.getSeconds()),e+"/"+a+"/"+i+" "+n)}),this.inputTitle="",this.inputInnerText="",this.inputInnerPic="",this.inputHashTagArray=[],this.inputHashTagText=""},deleteData:function(t){v.child(t).remove()},editData:function(t){var e=void 0;v.child(t).child("editing").once("value",function(t){e=t.val()}),e=!e,v.child(t).child("editing").set(e),this.editTitle=this.item[t].title,this.editInnerPic=this.item[t].pic,this.editInnerText=this.item[t].text,this.editHashTagArray=this.item[t].hashTag},saveEditedData:function(t){v.child(t).update({title:this.editTitle,text:this.editInnerText,pic:this.editInnerPic,hashTag:this.editHashTagArray,editing:!1})},deleteHashTagFromArray:function(t){this.inputHashTagArray.splice(this.inputHashTagArray.indexOf(t),1)},getHashTag:function(){var t=this;for(var e in t.item)if(t.item.hasOwnProperty(e)){var a=!0,i=!1,n=void 0;try{for(var s,r=o()(t.item[e].hashTag);!(a=(s=r.next()).done);a=!0){var l=s.value;-1===t.allHashTag.indexOf(l)&&t.allHashTag.push(l)}}catch(t){i=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}}}},mounted:function(){var t=this;firebase.auth().onAuthStateChanged(function(e){e?(v.on("value",function(e){t.item=e.val()}),t.logged=!0):t.logged=!1})}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:"",id:"app"}},[a("div",{staticClass:"row"},[!1===t.logged?a("div",{staticClass:"col-sm-6 col-md-4 offset-md-4"},[a("h1",{staticClass:"text-center login-title"},[a("b",[t._v("登入之後繼續")])]),t._v(" "),a("div",{staticClass:"account-wall"},[a("img",{staticClass:"profile-img",attrs:{src:"https://lh5.googleusercontent.com/-b0-k99FZlyE/AAAAAAAAAAI/AAAAAAAAAAA/eu7opA4byxI/photo.jpg?sz=120",alt:""}}),t._v(" "),a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputAccount,expression:"inputAccount"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.inputAccount},on:{input:function(e){e.target.composing||(t.inputAccount=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputPassword,expression:"inputPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.inputPassword},on:{input:function(e){e.target.composing||(t.inputPassword=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-lg btn-outline-info btn-block",attrs:{type:"submit"}},[t._v("\n            登入\n          ")])])])]):t._e()]),t._v(" "),!0===t.logged?a("b-card",{attrs:{"no-body":""}},[a("b-tabs",{attrs:{pills:"",card:"",vertical:"","nav-wrapper-class":"w-50"}},[a("b-tab",{attrs:{title:"Tab 1",active:""}},[a("ul",t._l(t.item,function(e,i){return a("li",{staticStyle:{"margin-bottom":"15px"}},[a("b-list-group",[a("b-list-group-item",{staticClass:"flex-column align-items-start",attrs:{href:"#",active:""}},[!1===e.editing?a("div",[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1"},[t._v(t._s(e.title))])]),t._v(" "),a("p",{staticClass:"mb-1"},[t._v("\n                    "+t._s(e.text)+"\n                  ")]),t._v(" "),a("small",[t._v("id: "+t._s(i))]),t._v(" "),a("br"),t._v(" "),t._l(e.hashTag,function(e){return a("small",[t._v("#"+t._s(e)+" ")])}),t._v(" "),a("br"),t._v(" "),a("b-button",{staticClass:"btn-outline-danger",on:{click:function(e){t.deleteData(i)}}},[t._v("刪除")]),t._v(" "),a("b-button",{staticClass:"btn-outline-warning"},[t._v("置頂")]),t._v(" "),a("b-button",{staticClass:"btn-outline-info",on:{click:function(e){t.editData(i)}}},[t._v("編輯")])],2):t._e(),t._v(" "),!0===e.editing?a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("p",[t._v("請輸入標題：")]),t._v(" "),a("b-form-input",{staticClass:"mb-5",attrs:{placeholder:"請輸入標題"},model:{value:t.editTitle,callback:function(e){t.editTitle=e},expression:"editTitle"}}),t._v(" "),a("p",[t._v("請輸入圖片網址：")]),t._v(" "),a("b-form-input",{staticClass:"mb-5",attrs:{placeholder:"請輸入圖片網址"},model:{value:t.editInnerPic,callback:function(e){t.editInnerPic=e},expression:"editInnerPic"}})],1),t._v(" "),a("b-col",{attrs:{cols:"12"}},[a("p",[t._v("請輸入內文：")]),t._v(" "),a("b-form-textarea",{attrs:{placeholder:"請輸入內文",rows:"3"},model:{value:t.editInnerText,callback:function(e){t.editInnerText=e},expression:"editInnerText"}}),t._v(" "),a("b-button",{staticClass:"btn mt-4 mb-5",on:{click:function(e){t.saveEditedData(i)}}},[t._v("保存")])],1)],1)],1):t._e()])],1)],1)}))]),t._v(" "),a("b-tab",{attrs:{title:"Tab 2"}},[a("b-form",[a("b-input-group",{staticClass:"mb-5",attrs:{prepend:"標題"}},[a("b-form-input",{attrs:{placeholder:"請輸入標題",required:""},model:{value:t.inputTitle,callback:function(e){t.inputTitle=e},expression:"inputTitle"}})],1),t._v(" "),a("b-form-input",{staticClass:"mb-5",attrs:{placeholder:"請輸入圖片網址",required:""},model:{value:t.inputInnerPic,callback:function(e){t.inputInnerPic=e},expression:"inputInnerPic"}}),t._v(" "),a("b-form-input",{staticClass:"mb-5",attrs:{placeholder:"請輸入內文",required:""},model:{value:t.inputInnerText,callback:function(e){t.inputInnerText=e},expression:"inputInnerText"}}),t._v(" "),a("b-input-group",{staticClass:"mb-5",attrs:{prepend:"標籤"}},[a("b-form-input",{attrs:{placeholder:"請輸入標籤"},model:{value:t.inputHashTagText,callback:function(e){t.inputHashTagText=e},expression:"inputHashTagText"}}),t._v(" "),a("b-input-group-append",[a("b-btn",{attrs:{variant:"info"},on:{click:t.addHashTag}},[t._v("新增")])],1)],1),t._v(" "),a("b-list-group",t._l(t.inputHashTagArray,function(e){return a("b-list-group-item",{key:e.id,staticClass:"mb-2"},[t._v("#"+t._s(e)+"\n              "),a("b-button",{staticClass:"btn-danger float-right",on:{click:function(a){t.deleteHashTagFromArray(e)}}},[t._v("刪除")])],1)})),t._v(" "),a("b-button",{staticClass:"btn-outline-info",on:{click:t.newPost}},[t._v("送出")])],1)],1),t._v(" "),a("b-tab",{attrs:{title:"hashTag 測試"}},[a("b-button",{on:{click:t.getHashTag}}),t._v(" "),a("b-list-group",t._l(t.allHashTag,function(e){return a("b-list-group-item",{key:e.id},[t._v(t._s(e))])}))],1)],1)],1):t._e()],1)},staticRenderFns:[]};var x=a("VU/8")(_,T,!1,function(t){a("UVN6")},"data-v-31847c7d",null).exports,y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",[e("div",{staticClass:"square-block"},[e("h1",[this._v("感謝，一日順心。")])])])},staticRenderFns:[]};var w=a("VU/8")({name:"thanks"},y,!1,function(t){a("CCBS")},"data-v-138be34c",null).exports;i.a.use(r.a);var C=new r.a({routes:[{path:"/",name:"main",component:m},{path:"/back",name:"back",component:x},{path:"/thanks",name:"thanks",component:w}]}),A=a("mtWM"),k=a.n(A),P=a("e6fC"),S=a("Rf8U"),I=a.n(S);i.a.use(I.a,k.a),i.a.use(P.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:C,components:{App:s},template:"<App/>"})},QGUU:function(t,e){},UVN6:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.49534548d4ea8c764f8a.js.map